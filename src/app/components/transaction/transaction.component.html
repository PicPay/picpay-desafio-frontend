<div class="modal-backdrop">
    <div *ngIf="isOnTransaction()" class="modal">
        <div class="title">
            <span>Pagamento para <span class="user-name">{{transactionUser.name}}</span></span>
            <span 
             class="close"
             (click)="transactionService.endTransaction()">
               x
           </span>
        </div>

        <form 
         class="content"
         [formGroup]="transactionForm">

            <input 
             required
             type="text"
             appBrlCurrencyMask
             formControlName="value"/>

            <div class="cards">
                <select
                 required
                 formControlName="card">
                    <option
                     *ngFor="let card of cards; let index = index;"
                     [ngValue]="card">
                        Cartão com final {{ endCharactersOf(card.card_number) }}
                    </option>
                </select>
            </div>

            <div class="footer">
                <button 
                 type="button"
                 class="pay-button"
                 (click)="pay()">
                    Pagar
                </button>
            </div>
        </form>
    </div>

    <div *ngIf="isTransactionSucceeded() || isTransactionFailed()" class="modal">
        <div class="title">
            <span>Recibo de pagamento</span>
            <span 
             class="close"
             (click)="transactionService.endTransaction()">
                x
            </span>
        </div>

        <div *ngIf="isTransactionSucceeded()" class="content">
            O pagamento foi concluido com sucesso.
        </div>
        <div *ngIf="isTransactionFailed()" class="content">
            O pagamento <strong>não</strong> foi concluido com sucesso.
        </div>
    </div>
</div>