<div *ngIf="showModal" class="modal-backdrop">
    <div class="modal-payment">
        <div class="title"><span>Pagamento para</span></div>
        <div class="user">
            <app-user-picture [image]="transaction.user.img"></app-user-picture>  
            <app-username [user]="transaction.user"></app-username>
        </div>
        <form class="content" formGroup [formGroup]="form" (ngSubmit)="onSubmit(f)">
            <div class="input-value">
                <input #inputValue type="text" matInput placeholder="R$ 0,00" class="form-control" formControlName="value" [currencyMask]="{prefix: 'R$'}" required autofocus>
            </div>
            <div *ngIf="!form.get('value').valid && formSend">
                <mat-error class="error">
                    O valor mínimo de pagamento é de <b>R$ 0,50</b>
                </mat-error>
            </div>
            <div class="cards">
                <select class="select-card" formControlName="card" autofocus>
                    <option [disabled]="true" [selected]="true" [value]="">Selecione um cartão</option>
                    <option *ngFor="let card of creditCards" [ngValue]="card">
                        Cartão com final {{ card.card_number | cardNumber}}
                    </option>
                </select>
            </div>
            <div *ngIf="!form.get('card').valid && formSend">
                <mat-error class="error">
                    Por favor insira um cartão válido
                </mat-error>
            </div> 
            <button type="submit" class="pay-button" (click)="inputValue.value = 'R$ 0,00'">
                Pagar
            </button>
            <button class="close-button" type="button" (click)="close()">
                Fechar
            </button>
        </form>
    </div>
</div>